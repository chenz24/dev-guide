---
title: 可插拔
weight: 220
description: KubeSphere 可插拔架构介绍
---

随着 KubeSphere 的不断发展，各种新功能和定制化需求不断增加，势必造成 KubeSphere 代码仓库越来越臃肿，从而使 KubeSphere 逐渐演变成一个笨重的“巨石应用”。针对“巨石应用”，不管是开发维护还是测试部署无疑其效率是不高的。而且其可扩展性也是越来越低的。为了解决这一矛盾，将“巨石”进行拆分变得势在必行。另外很重要的一点是我们也希望能够引入一种低成本的可扩展能力。为此，我们在 KubeSphere v4.0 中实现了一种全新的前后端可插拔架构。通过这个架构，我们可以有效解耦各个功能模块，并可以非常方便的通过插件无缝扩展系统的功能。


## 整体架构
![可插拔架构图](/images/plugin-arch/pluggable-arch.png)

如上图所示，可插拔架构包括前端部分和后端部分。两者都实现了“微内核+插件”的架构。并通过插件管理模块进行插件的加载、卸载等操作。这其中内核部分仅包含如路由管理、插件管理等框架性的功能，业务代码全部放在插件中实现。具体前后端架构请点击下面链接：

* [前端架构设计](./frontend-pluggable-architecture)
* [后端架构设计](./backend-pluggable-architecture)

## 插件开发

插件的形态大体分为：
1. 插件可以是包含前后端的单独的功能模块，如 “DMP(数据库管理平台)”。插件接入后可以挂载在某个菜单项上，比如顶部导航栏、侧边栏、工具栏等。
2. 插件可以是纯前端插件或纯后端插件，比如“css 主题”插件

插件的开发流程和普通的应用开发大体类似，包括后端开发、前端开发、打包发布。需要注意的是，针对插件的发布与更新我们提供了 `ks-builder` 命令行工具。针对插件前端开发我们提供 `create-ks-app` 前端脚手架，方便开发者快速搭建项目初始化代码，并且提供 KubeDesign、ks-console/shared 等组件库、util 库为前端开发提供良好的基建支持。插件具体开发流程请看 [插件开发指南](../../plugin-develoment-guide)。

## 优点

1. ks-core 和各插件解耦，可以有更快的发版更新速度
2. 系统生态更丰富。通过插件可以自由的扩展系统的能力边界
3. 插件独立开发，高内聚，代码更容易理解、开发上手难度低、效率更高
4. 插件后端技术栈不做限制，开发更自由
5. 插件故障不影响 ks-core 和其它插件运行，有更高的稳定性
